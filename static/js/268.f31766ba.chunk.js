"use strict";(self.webpackChunkvinsgeorgien=self.webpackChunkvinsgeorgien||[]).push([[268],{9268:function(e,t,n){n.r(t),n.d(t,{default:function(){return E}});var r=n(4165),o=n(5861),i=n(9439),l=n(2937),s=n(2463),c=n(2983),a=n(3477),d=n(5160),h=n(7313),x=n(1761),g=n(8765),u=n(7481),p=n(4558),f=n(383),y=n(7668),j=n(1454),b=n(4417),m=n(8208),Z=n(4287),C=n(1769),w=n(6579),v=n(82),S=n(6417),k=function(){var e=(0,h.useState)(!0),t=(0,i.Z)(e,2),n=t[0],r=t[1],o=(0,h.useState)(!0),l=(0,i.Z)(o,2),s=l[0],c=l[1],k=(0,x.x)(),R=k.state.theme,A=k.productFilterState,T=A.byStock,E=A.sort,O=A.byCategory,_=k.productFilterDispatch;return(0,S.jsxs)("div",{id:"filter",style:{width:"20%"},children:[(0,S.jsx)(d.Z,{id:"filterContainer",style:{display:"flex",flexDirection:"column",alignItems:"flex-start",marginTop:"80px",paddingTop:"10px",paddingBottom:"80px",color:"light"===R?"#000":"#980433",gap:"20px"},children:(0,S.jsxs)(j.Z,{expanded:!n,style:{width:"100%",backgroundColor:"light"===R?"transparent":"#333"},children:[(0,S.jsx)(b.Z,{onClick:function(){return r(!n)},expandIcon:(0,S.jsx)(w.Z,{style:{color:"light"===R?"#000":"#980433"}}),"aria-controls":"panel1a-content",id:"panel1a-header",style:{height:"0px",margin:"0",cursor:"pointer",boxShadow:"0px 3px 5px 0px ".concat("light"===R?"#000":"#980433")},children:(0,S.jsx)(y.Z,{style:{padding:"5px 0",fontSize:"25px",width:"100%",color:"light"===R?"#000":"#980433",cursor:"pointer"},id:"demo-radio-buttons-group-label",children:"Filtrer"})}),(0,S.jsx)(m.Z,{children:(0,S.jsx)(f.Z,{style:{width:"100%"},children:(0,S.jsxs)(u.Z,{"aria-labelledby":"demo-radio-buttons-group-label",defaultValue:"",name:"radio-buttons-group",style:{gap:"5px"},children:[(0,S.jsx)(p.Z,{value:"Ascending",control:(0,S.jsx)(g.Z,{sx:{color:"rgb(216, 27, 96)","&.Mui-checked":{color:"rgb(216, 27, 96)"}}}),label:"Ascending",style:{color:"light"===R?"#000":"#980433",margin:"0"},onChange:function(){return _({type:"SORT_BY_PRICE",payload:"lowToHigh"})},checked:"lowToHigh"===E}),(0,S.jsx)(p.Z,{value:"Descending",style:{color:"light"===R?"#000":"#980433",margin:"0"},control:(0,S.jsx)(g.Z,{sx:{color:"rgb(216, 27, 96)","&.Mui-checked":{color:"rgb(216, 27, 96)"}}}),label:"Descending",onChange:function(){return _({type:"SORT_BY_PRICE",payload:"highToLow"})},checked:"highToLow"===E}),(0,S.jsx)(Z.Z,{children:(0,S.jsx)(p.Z,{style:{color:"light"===R?"#000":"#980433",margin:"0"},control:(0,S.jsx)(C.Z,{sx:{color:"rgb(216, 27, 96)","&.Mui-checked":{color:"rgb(216, 27, 96)"}},onChange:function(){return _({type:"FILTER_BY_STOCK"})},checked:T}),label:"Out Of Stock"})}),T||"lowToHigh"===E||"highToLow"===E?(0,S.jsx)(v.pT,{top:!0,children:(0,S.jsx)(a.Z,{style:{fontSize:"15px",backgroundColor:"#980433",color:"#fff"},onClick:function(){return _({type:"CLEAR_FILTERS"})},children:"CLEAR FILTER"})}):null]})})})]})}),(0,S.jsx)(d.Z,{id:"categories",children:(0,S.jsxs)(j.Z,{expanded:s,style:{width:"100%",backgroundColor:"light"===R?"transparent":"#333"},children:[(0,S.jsx)(b.Z,{onClick:function(){return c(!s)},expandIcon:(0,S.jsx)(w.Z,{style:{color:"light"===R?"#000":"#980433"}}),"aria-controls":"panel1a-content",style:{height:"0px",margin:"0",cursor:"pointer",boxShadow:"0px 3px 5px 0px ".concat("light"===R?"#000":"#980433")},children:(0,S.jsx)(y.Z,{style:{padding:"5px 0",fontSize:"25px",width:"100%",color:"light"===R?"#000":"#980433",cursor:"pointer"},children:"Categories"})}),(0,S.jsx)(m.Z,{children:(0,S.jsx)(f.Z,{style:{width:"100%"},children:(0,S.jsxs)(u.Z,{"aria-labelledby":"demo-radio-buttons-group-label",name:"radio-buttons-group",style:{gap:"5px"},children:[(0,S.jsx)(p.Z,{control:(0,S.jsx)(g.Z,{sx:{color:"rgb(216, 27, 96)","&.Mui-checked":{color:"rgb(216, 27, 96)"}}}),label:"Vins Rouge",style:{color:"light"===R?"#000":"#980433",margin:"0"},onChange:function(){return _({type:"FILTER_BY_CATEGORY",payload:"Rouge"})},checked:"Rouge"===O}),(0,S.jsx)(p.Z,{style:{color:"light"===R?"#000":"#980433",margin:"0"},control:(0,S.jsx)(g.Z,{sx:{color:"rgb(216, 27, 96)","&.Mui-checked":{color:"rgb(216, 27, 96)"}}}),label:"Vins Blanc",onChange:function(){return _({type:"FILTER_BY_CATEGORY",payload:"Blanc"})},checked:"Blanc"===O}),(0,S.jsx)(p.Z,{style:{color:"light"===R?"#000":"#980433",margin:"0"},control:(0,S.jsx)(g.Z,{sx:{color:"rgb(216, 27, 96)","&.Mui-checked":{color:"rgb(216, 27, 96)"}}}),label:"Vins Rose",onChange:function(){return _({type:"FILTER_BY_CATEGORY",payload:"Rose"})},checked:"Rose"===O}),O?(0,S.jsx)(v.pT,{top:!0,children:(0,S.jsx)(a.Z,{style:{fontSize:"15px",backgroundColor:"#980433",color:"#fff"},onClick:function(){return _({type:"CLEAR_CATEGORY"})},children:"CLEAR CATEGORIES"})}):null]})})})]})})]})},R=(n(5356),n(1881)),A=n.n(R),T=n(56),E=function(){var e,t=(0,h.useState)(!1).show,n=(0,h.useMemo)((function(){return Array(12).fill("")}),[]),g=(0,h.useState)(n),u=(0,i.Z)(g,2),p=u[0],f=(u[1],(0,x.x)()),y=f.state,j=y.theme,b=y.cart,m=f.dispatch,Z=f.productFilterState,C=Z.byStock,w=Z.sort,R=Z.byCategory,E=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A().get("https://us-central1-vinsgeorgiens-a471b.cloudfunctions.net/vinsGeorgien",{headers:{"Access-Control-Allow-Origin":"*"}});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=(0,T.useQuery)("products",E,{cacheTime:5e3,refetchOnReconnect:!0,refetchOnWindowFocus:!1,refetchOnMount:!0}),_=O.isLoading,B=O.data,I=O.isError,L=O.error;if(I)return(0,S.jsx)("h2",{style:{width:"80%",textAlign:"center",margin:"100px auto"},children:L.message});var F=function(){var e,t,n,r=B.data.Products.data;w&&(r=null===(e=r)||void 0===e?void 0:e.sort((function(e,t){return"lowToHigh"===w?e.price-t.price:"highToLow"===w?t.price-e.price:"false"===w?e.id-t.id:r})));C||(r=null===(t=r)||void 0===t?void 0:t.filter((function(e){return e.inStock})));R&&(r=null===(n=r)||void 0===n?void 0:n.filter((function(e){return"Rouge"===R?"Rouge"===e.category:"Blanc"===R?"Blanc"===e.category:"Rose"===R?"Rose"===e.category:r})));return console.log(r),r};return(0,S.jsxs)("div",{id:"VinsPage",className:j,style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,S.jsx)(k,{filterCategory:F}),(0,S.jsxs)("div",{id:"VinsContainer",style:{width:"80%"},children:[R?(0,S.jsxs)("h1",{style:{margin:"20px 0 0 24px",position:"absolute",top:"20px",left:"20%",color:"#fff"},children:["Vins ",R]}):null,(0,S.jsx)(d.Z,{id:"productsContainer",style:{marginTop:"80px",marginBottom:"80px",display:"flex",flexWrap:"wrap",gap:"18px",width:"100%"},children:_?null===p||void 0===p?void 0:p.map((function(e,t){return(0,S.jsx)("div",{style:{display:"flex"},children:(0,S.jsx)(l.ZP,{className:"card",item:!0,xs:2,sm:4,md:12,style:{border:"light"===j?"1px #090d2a solid":"2px #980433 solid",boxSizing:"border-box",boxShadow:"light"===j?"0 0 1px #090d2a":"0 0 15px #980433"},children:(0,S.jsxs)(s.Z,{spacing:1,children:[(0,S.jsx)(c.Z,{style:{display:"flex",justifySelf:"center",alignSelf:"center"},sx:{bgcolor:"light"===j?"#A9A9A9":"#980433"},variant:"rectangular",width:110,height:118}),(0,S.jsx)(c.Z,{style:{display:"flex",justifySelf:"center",alignSelf:"center"},variant:"text",sx:{fontSize:"1rem",bgcolor:"light"===j?"#A9A9A9":"#980433"},width:110}),(0,S.jsx)(c.Z,{style:{display:"flex",justifySelf:"center",alignSelf:"center"},variant:"rectangular",width:210,height:60,sx:{bgcolor:"light"===j?"#A9A9A9":"#980433"}}),(0,S.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"210px",margin:"5px auto"},children:[(0,S.jsx)(c.Z,{variant:"rounded",width:60,height:40,sx:{bgcolor:"light"===j?"#A9A9A9":"#980433"}}),(0,S.jsx)(c.Z,{variant:"rounded",width:60,height:40,sx:{bgcolor:"light"===j?"#A9A9A9":"#980433"}})]})]})})},t)})):null===(e=F())||void 0===e?void 0:e.map((function(e,n){return(0,S.jsx)(v.ZP,{triggerOnce:!0,direction:"left",children:(0,S.jsxs)(l.ZP,{className:"card",item:!0,xs:2,sm:4,md:12,style:{border:"light"===j?"1px #090d2a solid":"2px #980433 solid",boxSizing:"border-box",boxShadow:"light"===j?"0 0 1px #090d2a":"0 0 15px #980433"},children:[(0,S.jsx)("img",{style:{width:"50%"},src:e.img,alt:e.name}),(0,S.jsx)("h1",{className:"".concat(j," word-break-all "),children:e.name.toUpperCase()}),(0,S.jsx)("h3",{className:j,children:e.description.split(" ").splice(0,10).join(" ")+" ..."}),(0,S.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[b.some((function(t){return t.id===e.id}))?(0,S.jsx)(v.BW,{triggerOnce:!0,direction:"horizontal",collapse:!0,when:!t,children:(0,S.jsx)(a.Z,{variant:"contained",color:"error",onClick:function(){m({type:"REMOVE_FROM_CART",payload:e})},style:{fontSize:"12px"},children:"Remove From Cart"})}):(0,S.jsx)(v.BW,{direction:"vertical",triggerOnce:!0,children:(0,S.jsx)(a.Z,{variant:"contained",color:"success",onClick:function(){m({type:"ADD_TO_CART",payload:e})},disabled:!e.inStock,style:{fontSize:"12px"},children:e.inStock?"Add to Cart":"Out of Stock"})}),(0,S.jsx)("h4",{className:j,children:"Price: "+e.price+"\u20ac"})]})]})},n)}))})]})]})}},5356:function(){}}]);