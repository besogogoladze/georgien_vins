"use strict";(self.webpackChunkvinsgeorgien=self.webpackChunkvinsgeorgien||[]).push([[268],{9268:function(e,t,n){n.r(t),n.d(t,{default:function(){return O}});var r=n(4165),i=n(5861),o=n(2937),l=n(3477),c=n(5160),s=n(7313),a=n(1761),d=n(8765),u=n(7481),p=n(4558),h=n(383),x=n(7668),g=n(1454),f=n(4417),y=n(8208),j=n(4287),m=n(1769),b=n(6579),v=n(82),Z=n(6417),C=function(){var e=(0,a.x)(),t=e.state.theme,n=e.productFilterState,r=n.byStock,i=n.sort,o=e.productFilterDispatch;return(0,Z.jsx)("div",{id:"filter",style:{width:"20%"},children:(0,Z.jsx)(c.Z,{id:"filterContainer",style:{display:"flex",flexDirection:"column",alignItems:"flex-start",marginTop:"80px",paddingTop:"10px",paddingBottom:"80px",color:"light"===t?"#000":"#980433",gap:"20px"},children:(0,Z.jsxs)(g.Z,{style:{width:"100%",backgroundColor:"light"===t?"transparent":"#333"},children:[(0,Z.jsx)(f.Z,{expandIcon:(0,Z.jsx)(b.Z,{style:{color:"light"===t?"#000":"#980433"}}),"aria-controls":"panel1a-content",id:"panel1a-header",style:{height:"0px",margin:"0",cursor:"pointer"},children:(0,Z.jsx)(x.Z,{style:{padding:"5px 0",fontSize:"25px",width:"100%",color:"light"===t?"#000":"#980433",cursor:"pointer"},id:"demo-radio-buttons-group-label",children:"Filtrer"})}),(0,Z.jsx)(y.Z,{children:(0,Z.jsx)(h.Z,{style:{width:"fit-content"},children:(0,Z.jsxs)(u.Z,{id:"filterRadio","aria-labelledby":"demo-radio-buttons-group-label",defaultValue:"Ascending",name:"radio-buttons-group",style:{gap:"5px"},children:[(0,Z.jsx)(p.Z,{value:"Ascending",control:(0,Z.jsx)(d.Z,{sx:{color:"rgb(216, 27, 96)","&.Mui-checked":{color:"rgb(216, 27, 96)"}}}),label:"Ascending",style:{color:"light"===t?"#000":"#980433"},onChange:function(){return o({type:"SORT_BY_PRICE",payload:"lowToHigh"})},checked:"lowToHigh"===i}),(0,Z.jsx)(p.Z,{value:"Descending",style:{color:"light"===t?"#000":"#980433"},control:(0,Z.jsx)(d.Z,{sx:{color:"rgb(216, 27, 96)","&.Mui-checked":{color:"rgb(216, 27, 96)"}}}),label:"Descending",onChange:function(){return o({type:"SORT_BY_PRICE",payload:"highToLow"})},checked:"highToLow"===i}),(0,Z.jsx)(j.Z,{children:(0,Z.jsx)(p.Z,{style:{color:"light"===t?"#000":"#980433"},control:(0,Z.jsx)(m.Z,{sx:{color:"rgb(216, 27, 96)","&.Mui-checked":{color:"rgb(216, 27, 96)"}},onChange:function(){return o({type:"FILTER_BY_STOCK"})},checked:r}),label:"Out Of Stock"})}),r||i?(0,Z.jsx)(v.pT,{top:!0,children:(0,Z.jsx)(l.Z,{style:{fontSize:"15px",backgroundColor:"#980433",color:"#fff"},onClick:function(){return o({type:"CLEAR_FILTERS"})},children:"CLEAR FILTER"})}):null]})})})]})})})},k=(n(5356),n(1881)),w=n.n(k),S=n(4207),T=n(6157),R=n(56),O=function(){var e,t=(0,s.useState)(!1).show,n=(0,a.x)(),d=n.state,u=d.theme,p=d.cart,h=n.dispatch,x=n.productFilterState,g=x.byStock,f=x.sort,y=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w().get("https://us-central1-vinsgeorgiens-a471b.cloudfunctions.net/vinsGeorgien",{headers:{"Access-Control-Allow-Origin":"*"}});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=(0,R.useQuery)("products",y,{cacheTime:5e3,refetchOnReconnect:!0,refetchOnWindowFocus:!1}),m=j.isLoading,b=j.data,k=j.isError,O=j.error;if(k)return(0,Z.jsx)("h2",{style:{textAlign:"center",margin:"100px 0"},children:O.message});return(0,Z.jsxs)("div",{id:"VinsPage",className:u,style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,Z.jsx)(C,{}),(0,Z.jsx)(c.Z,{id:"productsContainer",style:{marginTop:"80px",marginBottom:"80px",display:"flex",flexWrap:"wrap",gap:"18px",width:"80%"},children:m?(0,Z.jsx)(T.Z,{sx:{margin:"auto"},children:(0,Z.jsx)(S.Z,{style:{color:"light"===u?"#000":"#980433"}})}):null===(e=function(){var e,t,n=b.data.Products.data;f&&(n=null===(e=n)||void 0===e?void 0:e.sort((function(e,t){return"lowToHigh"===f?e.price-t.price:t.price-e.price})));g||(n=null===(t=n)||void 0===t?void 0:t.filter((function(e){return e.inStock})));return n}())||void 0===e?void 0:e.map((function(e,n){return(0,Z.jsx)(v.ZP,{triggerOnce:!0,direction:"left",children:(0,Z.jsxs)(o.ZP,{className:"card",item:!0,xs:2,sm:4,md:12,style:{border:"light"===u?"1px #090d2a solid":"2px #980433 solid",boxSizing:"border-box",boxShadow:"light"===u?"0 0 1px #090d2a":"0 0 15px #980433"},children:[(0,Z.jsx)("img",{style:{width:"50%"},src:e.img,alt:e.name}),(0,Z.jsx)("h1",{className:"".concat(u," word-break-all "),children:e.name.toUpperCase()}),(0,Z.jsx)("h3",{className:u,children:e.description.split(" ").splice(0,10).join(" ")+" ..."}),(0,Z.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[p.some((function(t){return t.id===e.id}))?(0,Z.jsx)(v.BW,{triggerOnce:!0,direction:"horizontal",collapse:!0,when:!t,children:(0,Z.jsx)(l.Z,{variant:"contained",color:"error",onClick:function(){h({type:"REMOVE_FROM_CART",payload:e})},style:{fontSize:"12px"},children:"Remove From Cart"})}):(0,Z.jsx)(v.BW,{direction:"vertical",triggerOnce:!0,children:(0,Z.jsx)(l.Z,{variant:"contained",color:"success",onClick:function(){h({type:"ADD_TO_CART",payload:e})},disabled:!e.inStock,style:{fontSize:"12px"},children:e.inStock?"Add to Cart":"Out of Stock"})}),(0,Z.jsx)("h4",{className:u,children:"Price: "+e.price+"\u20ac"})]})]})},n)}))})]})}},5356:function(){}}]);