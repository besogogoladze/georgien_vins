"use strict";(self.webpackChunkvinsgeorgien=self.webpackChunkvinsgeorgien||[]).push([[268],{9268:function(e,t,r){r.r(t),r.d(t,{default:function(){return E}});var n=r(4165),i=r(5861),o=r(9439),l=r(2937),s=r(2463),c=r(2983),a=r(3477),d=r(5160),h=r(7313),x=r(1761),u=r(8765),g=r(7481),p=r(4558),f=r(383),y=r(7668),b=r(1454),j=r(4417),m=r(8208),Z=r(4287),C=r(1769),w=r(6579),v=r(82),R=r(6417),S=function(){var e=(0,h.useState)(!0),t=(0,o.Z)(e,2),r=t[0],n=t[1],i=(0,h.useState)(!0),l=(0,o.Z)(i,2),s=l[0],c=l[1],S=(0,x.x)(),k=S.state.theme,A=S.productFilterState,T=A.byStock,E=A.sort,O=A.byCategory,_=S.productFilterDispatch;return(0,R.jsxs)("div",{id:"filter",style:{width:"20%"},children:[(0,R.jsx)(d.Z,{id:"filterContainer",style:{display:"flex",flexDirection:"column",alignItems:"flex-start",marginTop:"80px",paddingTop:"10px",paddingBottom:"80px",color:"light"===k?"#000":"#980433",gap:"20px"},children:(0,R.jsxs)(b.Z,{expanded:!r,style:{width:"100%",backgroundColor:"light"===k?"transparent":"#333",borderRadius:"2rem"},children:[(0,R.jsx)(j.Z,{onClick:function(){return n(!r)},expandIcon:(0,R.jsx)(w.Z,{style:{color:"light"===k?"#000":"#980433"}}),"aria-controls":"panel1a-content",id:"panel1a-header",style:{height:"0px",margin:"0",cursor:"pointer",boxShadow:"0px 3px 5px 0px ".concat("light"===k?"#000":"#980433"),borderRadius:"2rem"},children:(0,R.jsx)(y.Z,{style:{padding:"5px 0",fontSize:"25px",width:"100%",color:"light"===k?"#000":"#980433",cursor:"pointer"},id:"demo-radio-buttons-group-label",children:"Filtrer"})}),(0,R.jsx)(m.Z,{children:(0,R.jsx)(f.Z,{style:{width:"100%"},children:(0,R.jsxs)(g.Z,{"aria-labelledby":"demo-radio-buttons-group-label",defaultValue:"",name:"radio-buttons-group",style:{gap:"5px"},children:[(0,R.jsx)(p.Z,{value:"Ascending",control:(0,R.jsx)(u.Z,{sx:{color:"rgb(216, 27, 96)","&.Mui-checked":{color:"rgb(216, 27, 96)"}}}),label:"Ascending",style:{color:"light"===k?"#000":"#980433",margin:"0"},onChange:function(){return _({type:"SORT_BY_PRICE",payload:"lowToHigh"})},checked:"lowToHigh"===E}),(0,R.jsx)(p.Z,{value:"Descending",style:{color:"light"===k?"#000":"#980433",margin:"0"},control:(0,R.jsx)(u.Z,{sx:{color:"rgb(216, 27, 96)","&.Mui-checked":{color:"rgb(216, 27, 96)"}}}),label:"Descending",onChange:function(){return _({type:"SORT_BY_PRICE",payload:"highToLow"})},checked:"highToLow"===E}),(0,R.jsx)(Z.Z,{children:(0,R.jsx)(p.Z,{style:{color:"light"===k?"#000":"#980433",margin:"0"},control:(0,R.jsx)(C.Z,{sx:{color:"rgb(216, 27, 96)","&.Mui-checked":{color:"rgb(216, 27, 96)"}},onChange:function(){return _({type:"FILTER_BY_STOCK"})},checked:T}),label:"Out Of Stock"})}),T||"lowToHigh"===E||"highToLow"===E?(0,R.jsx)(v.pT,{top:!0,children:(0,R.jsx)(a.Z,{style:{fontSize:"15px",backgroundColor:"#980433",color:"#fff"},onClick:function(){return _({type:"CLEAR_FILTERS"})},children:"CLEAR FILTER"})}):null]})})})]})}),(0,R.jsx)(d.Z,{id:"categories",children:(0,R.jsxs)(b.Z,{expanded:s,style:{width:"100%",backgroundColor:"light"===k?"transparent":"#333",borderRadius:"2rem"},children:[(0,R.jsx)(j.Z,{onClick:function(){return c(!s)},expandIcon:(0,R.jsx)(w.Z,{style:{color:"light"===k?"#000":"#980433"}}),"aria-controls":"panel1a-content",style:{height:"0px",margin:"0",cursor:"pointer",boxShadow:"0px 3px 5px 0px ".concat("light"===k?"#000":"#980433"),borderRadius:"2rem"},children:(0,R.jsx)(y.Z,{style:{padding:"5px 0",fontSize:"25px",width:"100%",color:"light"===k?"#000":"#980433",cursor:"pointer"},children:"Categories"})}),(0,R.jsx)(m.Z,{children:(0,R.jsx)(f.Z,{style:{width:"100%"},children:(0,R.jsxs)(g.Z,{"aria-labelledby":"demo-radio-buttons-group-label",name:"radio-buttons-group",style:{gap:"5px"},children:[(0,R.jsx)(p.Z,{control:(0,R.jsx)(u.Z,{sx:{color:"rgb(216, 27, 96)","&.Mui-checked":{color:"rgb(216, 27, 96)"}}}),label:"Vins Rouge",style:{color:"light"===k?"#000":"#980433",margin:"0"},onChange:function(){return _({type:"FILTER_BY_CATEGORY",payload:"Rouge"})},checked:"Rouge"===O}),(0,R.jsx)(p.Z,{style:{color:"light"===k?"#000":"#980433",margin:"0"},control:(0,R.jsx)(u.Z,{sx:{color:"rgb(216, 27, 96)","&.Mui-checked":{color:"rgb(216, 27, 96)"}}}),label:"Vins Blanc",onChange:function(){return _({type:"FILTER_BY_CATEGORY",payload:"Blanc"})},checked:"Blanc"===O}),(0,R.jsx)(p.Z,{style:{color:"light"===k?"#000":"#980433",margin:"0"},control:(0,R.jsx)(u.Z,{sx:{color:"rgb(216, 27, 96)","&.Mui-checked":{color:"rgb(216, 27, 96)"}}}),label:"Vins Rose",onChange:function(){return _({type:"FILTER_BY_CATEGORY",payload:"Rose"})},checked:"Rose"===O}),O?(0,R.jsx)(v.pT,{top:!0,children:(0,R.jsx)(a.Z,{style:{fontSize:"15px",backgroundColor:"#980433",color:"#fff"},onClick:function(){return _({type:"CLEAR_CATEGORY"})},children:"CLEAR CATEGORIES"})}):null]})})})]})})]})},k=(r(5356),r(1881)),A=r.n(k),T=r(56),E=function(){var e,t=(0,h.useState)(!1).show,r=(0,h.useMemo)((function(){return Array(12).fill("")}),[]),u=(0,h.useState)(r),g=(0,o.Z)(u,2),p=g[0],f=(g[1],(0,x.x)()),y=f.state,b=y.theme,j=y.cart,m=f.dispatch,Z=f.productFilterState,C=Z.byStock,w=Z.sort,k=Z.byCategory,E=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A().get("https://us-central1-vinsgeorgiens-a471b.cloudfunctions.net/vinsGeorgien",{headers:{"Access-Control-Allow-Origin":"*"}});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=(0,T.useQuery)("products",E,{cacheTime:5e3,refetchOnReconnect:!0,refetchOnWindowFocus:!1,refetchOnMount:!0}),_=O.isLoading,B=O.data,I=O.isError,L=O.error;if(I)return(0,R.jsx)("h2",{style:{width:"80%",textAlign:"center",margin:"100px auto"},children:L.message});var F=function(){var e,t,r,n=B.data.Products.data;w&&(n=null===(e=n)||void 0===e?void 0:e.sort((function(e,t){return"lowToHigh"===w?e.price-t.price:"highToLow"===w?t.price-e.price:"false"===w?e.id-t.id:n})));C||(n=null===(t=n)||void 0===t?void 0:t.filter((function(e){return e.inStock})));k&&(n=null===(r=n)||void 0===r?void 0:r.filter((function(e){return"Rouge"===k?"Rouge"===e.category:"Blanc"===k?"Blanc"===e.category:"Rose"===k?"Rose"===e.category:n})));return n};return(0,R.jsxs)("div",{id:"VinsPage",className:b,style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,R.jsx)(S,{filterCategory:F}),(0,R.jsxs)("div",{id:"VinsContainer",style:{width:"80%"},children:[k?(0,R.jsxs)("h1",{style:{margin:"20px 0 0 24px"},children:["Vins ",k]}):null,(0,R.jsx)(d.Z,{id:"productsContainer",style:{marginTop:"80px",marginBottom:"80px",display:"flex",flexWrap:"wrap",gap:"18px",width:"100%"},children:_?null===p||void 0===p?void 0:p.map((function(e,t){return(0,R.jsx)("div",{style:{display:"flex"},children:(0,R.jsx)(l.ZP,{className:"card",item:!0,xs:2,sm:4,md:12,style:{border:"light"===b?"1px #090d2a solid":"2px #980433 solid",boxSizing:"border-box",boxShadow:"light"===b?"0 0 1px #090d2a":"0 0 15px #980433"},children:(0,R.jsxs)(s.Z,{spacing:1,children:[(0,R.jsx)(c.Z,{style:{display:"flex",justifySelf:"center",alignSelf:"center"},sx:{bgcolor:"light"===b?"#A9A9A9":"#980433"},variant:"rectangular",width:110,height:118}),(0,R.jsx)(c.Z,{style:{display:"flex",justifySelf:"center",alignSelf:"center"},variant:"text",sx:{fontSize:"1rem",bgcolor:"light"===b?"#A9A9A9":"#980433"},width:110}),(0,R.jsx)(c.Z,{style:{display:"flex",justifySelf:"center",alignSelf:"center"},variant:"rectangular",width:210,height:60,sx:{bgcolor:"light"===b?"#A9A9A9":"#980433"}}),(0,R.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"210px",margin:"5px auto"},children:[(0,R.jsx)(c.Z,{variant:"rounded",width:60,height:40,sx:{bgcolor:"light"===b?"#A9A9A9":"#980433"}}),(0,R.jsx)(c.Z,{variant:"rounded",width:60,height:40,sx:{bgcolor:"light"===b?"#A9A9A9":"#980433"}})]})]})})},t)})):null===(e=F())||void 0===e?void 0:e.map((function(e,r){return(0,R.jsx)(v.ZP,{triggerOnce:!0,direction:"left",children:(0,R.jsxs)(l.ZP,{className:"card",item:!0,xs:2,sm:4,md:12,style:{border:"light"===b?"1px #090d2a solid":"2px #980433 solid",boxSizing:"border-box",boxShadow:"light"===b?"0 0 1px #090d2a":"0 0 15px #980433"},children:[(0,R.jsx)("img",{style:{width:"50%"},src:e.img,alt:e.name}),(0,R.jsx)("h1",{className:"".concat(b," word-break-all "),children:e.name.toUpperCase()}),(0,R.jsx)("h3",{className:b,children:e.description.split(" ").splice(0,10).join(" ")+" ..."}),(0,R.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[j.some((function(t){return t.id===e.id}))?(0,R.jsx)(v.BW,{triggerOnce:!0,direction:"horizontal",collapse:!0,when:!t,children:(0,R.jsx)(a.Z,{variant:"contained",color:"error",onClick:function(){m({type:"REMOVE_FROM_CART",payload:e})},style:{fontSize:"12px"},children:"Remove From Cart"})}):(0,R.jsx)(v.BW,{direction:"vertical",triggerOnce:!0,children:(0,R.jsx)(a.Z,{variant:"contained",color:"success",onClick:function(){m({type:"ADD_TO_CART",payload:e})},disabled:!e.inStock,style:{fontSize:"12px"},children:e.inStock?"Add to Cart":"Out of Stock"})}),(0,R.jsx)("h4",{className:b,children:"Price: "+e.price+"\u20ac"})]})]})},r)}))})]})]})}},5356:function(){}}]);