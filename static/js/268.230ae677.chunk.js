"use strict";(self.webpackChunkvinsgeorgien=self.webpackChunkvinsgeorgien||[]).push([[268],{9268:function(e,t,i){i.r(t),i.d(t,{default:function(){return R}});var n=i(4165),r=i(5861),o=i(2937),l=i(2463),s=i(2983),c=i(3477),a=i(5160),d=i(7313),h=i(1761),x=i(8765),p=i(7481),u=i(4558),g=i(383),f=i(7668),y=i(1454),j=i(4417),b=i(8208),m=i(4287),v=i(1769),w=i(6579),Z=i(82),S=i(6417),A=function(){var e=(0,h.x)(),t=e.state.theme,i=e.productFilterState,n=i.byStock,r=i.sort,o=e.productFilterDispatch;return(0,S.jsx)("div",{id:"filter",style:{width:"20%"},children:(0,S.jsx)(a.Z,{id:"filterContainer",style:{display:"flex",flexDirection:"column",alignItems:"flex-start",marginTop:"80px",paddingTop:"10px",paddingBottom:"80px",color:"light"===t?"#000":"#980433",gap:"20px"},children:(0,S.jsxs)(y.Z,{style:{width:"100%",backgroundColor:"light"===t?"transparent":"#333"},children:[(0,S.jsx)(j.Z,{expandIcon:(0,S.jsx)(w.Z,{style:{color:"light"===t?"#000":"#980433"}}),"aria-controls":"panel1a-content",id:"panel1a-header",style:{height:"0px",margin:"0",cursor:"pointer"},children:(0,S.jsx)(f.Z,{style:{padding:"5px 0",fontSize:"25px",width:"100%",color:"light"===t?"#000":"#980433",cursor:"pointer"},id:"demo-radio-buttons-group-label",children:"Filtrer"})}),(0,S.jsx)(b.Z,{children:(0,S.jsx)(g.Z,{style:{width:"fit-content"},children:(0,S.jsxs)(p.Z,{id:"filterRadio","aria-labelledby":"demo-radio-buttons-group-label",defaultValue:"Ascending",name:"radio-buttons-group",style:{gap:"5px"},children:[(0,S.jsx)(u.Z,{value:"Ascending",control:(0,S.jsx)(x.Z,{sx:{color:"rgb(216, 27, 96)","&.Mui-checked":{color:"rgb(216, 27, 96)"}}}),label:"Ascending",style:{color:"light"===t?"#000":"#980433"},onChange:function(){return o({type:"SORT_BY_PRICE",payload:"lowToHigh"})},checked:"lowToHigh"===r}),(0,S.jsx)(u.Z,{value:"Descending",style:{color:"light"===t?"#000":"#980433"},control:(0,S.jsx)(x.Z,{sx:{color:"rgb(216, 27, 96)","&.Mui-checked":{color:"rgb(216, 27, 96)"}}}),label:"Descending",onChange:function(){return o({type:"SORT_BY_PRICE",payload:"highToLow"})},checked:"highToLow"===r}),(0,S.jsx)(m.Z,{children:(0,S.jsx)(u.Z,{style:{color:"light"===t?"#000":"#980433"},control:(0,S.jsx)(v.Z,{sx:{color:"rgb(216, 27, 96)","&.Mui-checked":{color:"rgb(216, 27, 96)"}},onChange:function(){return o({type:"FILTER_BY_STOCK"})},checked:n}),label:"Out Of Stock"})}),n||r?(0,S.jsx)(Z.pT,{top:!0,children:(0,S.jsx)(c.Z,{style:{fontSize:"15px",backgroundColor:"#980433",color:"#fff"},onClick:function(){return o({type:"CLEAR_FILTERS"})},children:"CLEAR FILTER"})}):null]})})})]})})})},C=(i(5356),i(1881)),k=i.n(C),T=i(56),R=function(){var e,t=(0,d.useState)(!1).show,i=(0,h.x)(),x=i.state,p=x.theme,u=x.cart,g=i.dispatch,f=i.productFilterState,y=f.byStock,j=f.sort,b=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k().get("https://us-central1-vinsgeorgiens-a471b.cloudfunctions.net/vinsGeorgien",{headers:{"Access-Control-Allow-Origin":"*"}});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=(0,T.useQuery)("products",b,{cacheTime:5e3,refetchOnReconnect:!0,refetchOnWindowFocus:!1}),v=m.isLoading,w=m.data,C=m.isError,R=m.error;if(C)return(0,S.jsx)("h2",{style:{width:"80%",textAlign:"center",margin:"100px auto"},children:R.message});return(0,S.jsxs)("div",{id:"VinsPage",className:p,style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,S.jsx)(A,{}),(0,S.jsx)(a.Z,{id:"productsContainer",style:{marginTop:"80px",marginBottom:"80px",display:"flex",flexWrap:"wrap",gap:"18px",width:"80%"},children:v?["","","","","",""].map((function(e,t){return(0,S.jsx)("div",{style:{display:"flex"},children:(0,S.jsx)(o.ZP,{className:"card",item:!0,xs:2,sm:4,md:12,style:{border:"light"===p?"1px #090d2a solid":"2px #980433 solid",boxSizing:"border-box",boxShadow:"light"===p?"0 0 1px #090d2a":"0 0 15px #980433"},children:(0,S.jsxs)(l.Z,{spacing:1,children:[(0,S.jsx)(s.Z,{style:{display:"flex",justifySelf:"center",alignSelf:"center"},sx:{bgcolor:"light"===p?"#A9A9A9":"#980433"},variant:"rectangular",width:110,height:118}),(0,S.jsx)(s.Z,{style:{display:"flex",justifySelf:"center",alignSelf:"center"},variant:"text",sx:{fontSize:"1rem",bgcolor:"light"===p?"#A9A9A9":"#980433"},width:110}),(0,S.jsx)(s.Z,{style:{display:"flex",justifySelf:"center",alignSelf:"center"},variant:"rectangular",width:210,height:60,sx:{bgcolor:"light"===p?"#A9A9A9":"#980433"}}),(0,S.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"210px",margin:"5px auto"},children:[(0,S.jsx)(s.Z,{variant:"rounded",width:60,height:40,sx:{bgcolor:"light"===p?"#A9A9A9":"#980433"}}),(0,S.jsx)(s.Z,{variant:"rounded",width:60,height:40,sx:{bgcolor:"light"===p?"#A9A9A9":"#980433"}})]})]})})},t)})):null===(e=function(){var e,t,i=w.data.Products.data;j&&(i=null===(e=i)||void 0===e?void 0:e.sort((function(e,t){return"lowToHigh"===j?e.price-t.price:t.price-e.price})));y||(i=null===(t=i)||void 0===t?void 0:t.filter((function(e){return e.inStock})));return i}())||void 0===e?void 0:e.map((function(e,i){return(0,S.jsx)(Z.ZP,{triggerOnce:!0,direction:"left",children:(0,S.jsxs)(o.ZP,{className:"card",item:!0,xs:2,sm:4,md:12,style:{border:"light"===p?"1px #090d2a solid":"2px #980433 solid",boxSizing:"border-box",boxShadow:"light"===p?"0 0 1px #090d2a":"0 0 15px #980433"},children:[(0,S.jsx)("img",{style:{width:"50%"},src:e.img,alt:e.name}),(0,S.jsx)("h1",{className:"".concat(p," word-break-all "),children:e.name.toUpperCase()}),(0,S.jsx)("h3",{className:p,children:e.description.split(" ").splice(0,10).join(" ")+" ..."}),(0,S.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[u.some((function(t){return t.id===e.id}))?(0,S.jsx)(Z.BW,{triggerOnce:!0,direction:"horizontal",collapse:!0,when:!t,children:(0,S.jsx)(c.Z,{variant:"contained",color:"error",onClick:function(){g({type:"REMOVE_FROM_CART",payload:e})},style:{fontSize:"12px"},children:"Remove From Cart"})}):(0,S.jsx)(Z.BW,{direction:"vertical",triggerOnce:!0,children:(0,S.jsx)(c.Z,{variant:"contained",color:"success",onClick:function(){g({type:"ADD_TO_CART",payload:e})},disabled:!e.inStock,style:{fontSize:"12px"},children:e.inStock?"Add to Cart":"Out of Stock"})}),(0,S.jsx)("h4",{className:p,children:"Price: "+e.price+"\u20ac"})]})]})},i)}))})]})}},5356:function(){}}]);